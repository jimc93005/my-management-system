{% extends "students_app/base.html" %}

{% block content %}
<div class="container mt-4">

    <h3>Edit Grade for {{ student.first_name }}  {{student_surname}}</h3>

    <form method="POST" class="mt-3">
        {% csrf_token %}

        <div class="form-group">
            <label>Score</label>
            <input type="number" name="score" class="form-control"
                   value="{{ grade.score }}" required>
        </div>

        <div class="form-group">
            <label>Academic Year</label>
            <select name="academic_year" class="form-control" required>
                {% for y in years %}
                    <option value="{{ y }}" {% if grade.academic_year == y|stringformat:'s' %}selected{% endif %}>
                        {{ y }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Term</label>
            <select name="term" class="form-control" required>
                {% for t in terms %}
                    <option value="{{ t }}" {% if grade.term == t %}selected{% endif %}>
                        Term {{ t }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <button class="btn btn-primary">Save Changes</button>

        <a href="{% url 'students_app:student_profile' student.id %}" class="btn btn-secondary">
            Cancel
        </a>
    </form>

</div>
{% endblock %}
